<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
	<!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
	<title>Show customer details</title>
</head>
<body>
	<form action="#" th:action="@{${#request.requestURI.equals('/save-new-customer-form')?'/saveCustomer':'/updateCustomer'}}" th:object="${customer}" th:method="put">

		<input type="hidden" th:field="*{id}" th:value="${customer.id}"/>
		
		<div class="row">
			<div class="col-sm">
				<label th:for="firstName" class="form-label">First name</label>
				<input type="text" th:field="*{firstName}" class="form-control" aria-describedby="nameHelp"/>
				<p th:if="${#fields.hasErrors('firstName')}">Please enter a valid name</p>
			</div>
			
			<div class="col-sm">
				<label th:for="middleName" class="form-label">Middle name(s)</label>
				<input type="text" th:field="*{middleName}" class="form-control" aria-describedby="nameHelp"/>
				<p th:if="${#fields.hasErrors('middleName')}">Please enter a valid name</p>
			</div>
			
			<div class="col-sm">
				<label th:for="lastName" class="form-label">Last name</label>
				<input type="text" th:field="*{lastName}" class="form-control" aria-describedby="nameHelp"/>
				<p th:if="${#fields.hasErrors('lastName')}">Please enter a valid name</p>
			</div>
			
			<div class="form-text" id="nameHelp">Names should only consist of latin alphabet characters.</div>
		</div>
	
		<div class="row">
				<div class="col-sm">
				<label th:for="dateOfBirth" class="form-label">Date of birth</Label>
				<input type="date" th:field="*{dateOfBirth}" class="form-control"/>
				<p th:if="${#fields.hasErrors('dateOfBirth')}">Please enter a valid date of birth over 18 years of age</p>
			</div>
			
			<div class="col-sm">
				<label th:for="phoneNumber" class="form-label">Phone number</label>
				<input type="text" th:field="*{phoneNumber}" class="form-control" aria-describedby="phoneHelp"/>
				<div class="form-text" id="phoneHelp">Ensure this is the primary business phone number of the customer, mobile phone numbers are valid.</div>
				<p th:if="${#fields.hasErrors('phoneNumber')}">Please enter a valid phone number</p>
			</div>
			
			<div class="col-sm">
				<label th:for="emailAddress" class="form-label">Email address</label>
				<input type="email" th:field="*{emailAddress}" class="form-control" aria-describedby="emailHelp"/>
				<div class="form-text" id="emailHelp">Ensure this is the primary business email address of the customer, not a personal one.</div>
				<p th:if="${#fields.hasErrors('emailAddress')}">Please enter a valid email address</p>
			</div>
		</div>
		
		<div class="row">
			<div class="col-sm">
			<label th:for="prefComms" class="form-label">Preferred method of contact</label>
			<input type="text" th:field="*{prefComms}" class="form-control" aria-describedby="phoneHelp"/>
			</div>
			
			<div class="col-sm">
			<label th:for="occupation" class="form-label">Occupation</label>
			<input type="text" th:field="*{occupation}" class="form-control" aria-describedby="phoneHelp"/>
			<p th:if="${#fields.hasErrors('occupation')}">Please use alphabetical characters only</p>
			</div>
			
			<div class="col-sm">
			<label th:for="industry" class="form-label">Industry</label>
			<input type="text" th:field="*{industry}" class="form-control" aria-describedby="phoneHelp"/>
			<p th:if="${#fields.hasErrors('occupation')}">Please use alphabetical characters only</p>
			</div>
			<div class="form-text" id="vocationHelp">All fields here should be filled to the best relevancy for that customer.</div>
		</div>

		<input type="hidden" th:field="*{socialMedia.id}" th:value="*{socialMedia.id}"/>
		<div class="row">
			<label th:for="socialMedia.preferredSocialMedia" class="form-label">Select customer preferred social media</label>
			<select name="socialMediaNames" th:field="${customer.socialMedia.preferredSocialMedia}" class="form-select">
				<option th:each="name : ${T(com.simplerestapiconsumer.enums.SocialMediaNames).values()}"  th:value="${name}" th:text="${name.displayName}"></option>
			</select>
	
			<label th:for="socialMedia.facebookHandle" class="form-label">Facebook</label>
			<input type="text" th:field="*{socialMedia.facebookHandle}" th:value="*{socialMedia.facebookHandle}" class="form-control" aria-describedby="NONEHelp"/>
	
			<label th:for="socialMedia.twitterHandle" class="form-label">Twitter</label>
			<input type="text" th:field="*{socialMedia.twitterHandle}" th:value="*{socialMedia.twitterHandle}" class="form-control" aria-describedby="NONEHelp"/>
	
			<label th:for="socialMedia.instagramHandle" class="form-label">Instagram</label>
			<input type="text" th:field="*{socialMedia.instagramHandle}" th:value="*{socialMedia.instagramHandle}" class="form-control" aria-describedby="NONEHelp"/>
	
			<label th:for="socialMedia.lineHandle" class="form-label">Line</label>
			<input type="text" th:field="*{socialMedia.lineHandle}" th:value="*{socialMedia.lineHandle}" class="form-control" aria-describedby="NONEHelp"/>
	
			<label th:for="socialMedia.whatsappHandle" class="form-label">Whatsapp</label>
			<input type="text" th:field="*{socialMedia.whatsappHandle}" th:value="*{socialMedia.whatsappHandle}" class="form-control" aria-describedby="NONEHelp"/>
			<div class="form-text" id="NONEHelp">Please enter &quot;NONE&quot; for handles that are not shared by the customer"</div>
		</div>
		<button type="submit" class="btn btn-primary">Save customer details</button>
	</form>
</body>
</html>